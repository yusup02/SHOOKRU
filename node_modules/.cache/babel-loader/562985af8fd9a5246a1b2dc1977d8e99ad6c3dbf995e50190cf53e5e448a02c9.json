{"ast":null,"code":"import './index.css';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nfunction Main() {\n  //     console.log('Main:');\n\n  //     const userName = localStorage.getItem('userName');\n  //     const token = localStorage.getItem('token');\n\n  //     if (token == '') {\n  //         return MainTokenExeption()\n  //     } else {\n  //         console.log('MainPage:');\n\n  //         return MainPage()\n  //     }\n\n  // }\n\n  // function MainTokenExeption() {\n  //     const navigate = useNavigate();\n\n  //     function handleClick(event) {\n  //         navigate('/');\n  //     }\n\n  //     return (\n  //         <div>\n  //             <div>Сеанс истек, требуется заново войти</div>\n\n  //             <button\n  //                 className=\"button\"\n  //                 type=\"button\"\n  //                 onSubmit={handleClick}\n\n  //             >Войти</button>\n\n  //         </div>\n  //     );\n  // }\n\n  // function MainPage() {\n  //     const [userName, setUserName] = localStorage.getItem('userName');\n  //     const token = localStorage.getItem('token');\n  //     const [rates, setRates] = useState([]);\n\n  //     const [loading, setLoading] = useState(true);\n  //     const [error, setError] = useState(false);\n\n  //     const navigate = useNavigate();\n\n  //     function handleClick(event) {\n  //         localStorage.clear();\n  //         navigate('/');\n  //         console.log('Токен после удаления:', localStorage.getItem('token'));\n  //     }\n\n  //     useEffect(() => {\n  //         getRates();\n  //     }, []);\n\n  //     async function getRates() {\n  //         try {\n  //             const response = await fetch(\"https://fp-services.ru/installment/courses/get-list\", {\n  //                 method: \"GET\",\n  //                 headers: {\n  //                     \"Authorization\": `Bearer ${token}`\n  //                 }\n\n  //             });\n\n  //             if (response.ok) {\n  //                 const data = await response.json();\n\n  //                 console.log(data);\n  //                 alert(data);\n\n  //                 setRates(data.Data);\n\n  //             } else {\n  //                 const errorData = await response.json();\n  //                 console.error('Ошибка авторизации:', errorData);\n\n  //             }\n  //         } catch (error) {\n  //             console.error('Ошибка:', error);\n  //         }\n\n  //     }\n\n  //     // if (error) {\n  //     //     return (\n  //     //         <div className='r'>\n  //     //             <h1>Ошибка</h1>\n  //     //             <p>Произошла ошибка при загрузке данных.</p>\n  //     //         </div>\n  //     //     );\n  //     // }\n\n  //     // if (loading) {\n  //     //     return (\n  //     //         <div className='view' >\n  //     //             <h1 className='view_inner'>Ошибка</h1>\n  //     //             <p className='view_title'>Произошла ошибка при загрузке данных.</p>\n  //     //             <button className='button view_button'>Повторить</button>\n  //     //         </div>\n  //     //     )\n  //     // }\n\n  //     return (\n  //         <div className='main'>\n  //             <table className='table'>\n  //                 <thead className='table_thead'>\n  //                     <tr>\n  //                         <th className='table_th'>Name</th>\n  //                         <th className='table_th'>Price</th>\n  //                         <th className='table_th'>Duration</th>\n  //                         <th className='table_th'>Description</th>\n  //                     </tr>\n  //                 </thead>\n  //                 <tbody className='table_tbody'>\n  //                     {rates.map((rate, index) => (\n  //                         <tr key={index}>\n  //                             <td className='table_td'>{rate.Name}</td>\n  //                             <td className='table_td'>{rate.Price}₽</td>\n  //                             <td className='table_td'>{rate.Duration}</td>\n  //                             <td className='table_td'>{rate.Description}</td>\n  //                         </tr>\n  //                     ))}\n  //                 </tbody>\n  //             </table>\n  //             <div className=\"button\">\n  //                 <button type=\"button\" onClick={handleClick}>Выйти</button>\n  //             </div>\n  //         </div>\n\n  //     );\n}\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["useState","useNavigate","React","useEffect","axios","Main","_c","$RefreshReg$"],"sources":["/Users/ymmirzayev/shookru/src/main.js"],"sourcesContent":["import './index.css';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Main() {\n//     console.log('Main:');\n\n//     const userName = localStorage.getItem('userName');\n//     const token = localStorage.getItem('token');\n\n//     if (token == '') {\n//         return MainTokenExeption()\n//     } else {\n//         console.log('MainPage:');\n\n//         return MainPage()\n//     }\n\n// }\n\n\n// function MainTokenExeption() {\n//     const navigate = useNavigate();\n\n//     function handleClick(event) {\n//         navigate('/');\n//     }\n\n//     return (\n//         <div>\n//             <div>Сеанс истек, требуется заново войти</div>\n\n//             <button\n//                 className=\"button\"\n//                 type=\"button\"\n//                 onSubmit={handleClick}\n\n//             >Войти</button>\n\n//         </div>\n//     );\n// }\n\n// function MainPage() {\n//     const [userName, setUserName] = localStorage.getItem('userName');\n//     const token = localStorage.getItem('token');\n//     const [rates, setRates] = useState([]);\n\n//     const [loading, setLoading] = useState(true);\n//     const [error, setError] = useState(false);\n\n//     const navigate = useNavigate();\n\n//     function handleClick(event) {\n//         localStorage.clear();\n//         navigate('/');\n//         console.log('Токен после удаления:', localStorage.getItem('token'));\n//     }\n\n\n//     useEffect(() => {\n//         getRates();\n//     }, []);\n\n\n//     async function getRates() {\n//         try {\n//             const response = await fetch(\"https://fp-services.ru/installment/courses/get-list\", {\n//                 method: \"GET\",\n//                 headers: {\n//                     \"Authorization\": `Bearer ${token}`\n//                 }\n\n\n//             });\n\n\n\n//             if (response.ok) {\n//                 const data = await response.json();\n\n//                 console.log(data);\n//                 alert(data);\n\n//                 setRates(data.Data);\n\n\n\n//             } else {\n//                 const errorData = await response.json();\n//                 console.error('Ошибка авторизации:', errorData);\n\n\n//             }\n//         } catch (error) {\n//             console.error('Ошибка:', error);\n//         }\n\n\n//     }\n\n//     // if (error) {\n//     //     return (\n//     //         <div className='r'>\n//     //             <h1>Ошибка</h1>\n//     //             <p>Произошла ошибка при загрузке данных.</p>\n//     //         </div>\n//     //     );\n//     // }\n\n//     // if (loading) {\n//     //     return (\n//     //         <div className='view' >\n//     //             <h1 className='view_inner'>Ошибка</h1>\n//     //             <p className='view_title'>Произошла ошибка при загрузке данных.</p>\n//     //             <button className='button view_button'>Повторить</button>\n//     //         </div>\n//     //     )\n//     // }\n\n\n\n\n\n\n//     return (\n//         <div className='main'>\n//             <table className='table'>\n//                 <thead className='table_thead'>\n//                     <tr>\n//                         <th className='table_th'>Name</th>\n//                         <th className='table_th'>Price</th>\n//                         <th className='table_th'>Duration</th>\n//                         <th className='table_th'>Description</th>\n//                     </tr>\n//                 </thead>\n//                 <tbody className='table_tbody'>\n//                     {rates.map((rate, index) => (\n//                         <tr key={index}>\n//                             <td className='table_td'>{rate.Name}</td>\n//                             <td className='table_td'>{rate.Price}₽</td>\n//                             <td className='table_td'>{rate.Duration}</td>\n//                             <td className='table_td'>{rate.Description}</td>\n//                         </tr>\n//                     ))}\n//                 </tbody>\n//             </table>\n//             <div className=\"button\">\n//                 <button type=\"button\" onClick={handleClick}>Выйти</button>\n//             </div>\n//         </div>\n\n//     );\n\n}\n\nexport default Main;\n\n\n\n"],"mappings":"AAAA,OAAO,aAAa;AACpB,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,IAAIA,CAAA,EAAG;EAChB;;EAEA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;;EAGA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;;EAGA;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;;EAIA;EACA;;EAEA;EACA;;EAEA;;EAIA;EACA;EACA;;EAGA;EACA;EACA;EACA;;EAGA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAOA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;AAAA;AAECC,EAAA,GAtJQD,IAAI;AAwJb,eAAeA,IAAI;AAAC,IAAAC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}